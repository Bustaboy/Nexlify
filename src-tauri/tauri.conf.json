// src-tauri/tauri.conf.json
// NEXLIFY NEURAL CONFIG - Security capabilities & chrome settings
// Last sync: 2025-06-19 | "Wake the f*ck up, samurai"

{
  "$schema": "../node_modules/@tauri-apps/cli/schema.json",
  "productName": "Nexlify Terminal",
  "version": "4.0.0",
  "build": {
    "beforeDevCommand": "npm run dev",
    "beforeBuildCommand": "npm run build",
    "devUrl": "http://localhost:5173",
    "frontendDist": "../dist"
  },
  "bundle": {
    "active": true,
    "targets": "all",
    "icon": [
      "icons/32x32.png",
      "icons/128x128.png",
      "icons/128x128@2x.png",
      "icons/icon.icns",
      "icons/icon.ico"
    ],
    "identifier": "com.nexlify.terminal",
    "publisher": "Nexlify Collective",
    "copyright": "Â© 2025 Nexlify. Built for the digital underground.",
    "shortDescription": "Neural-enhanced crypto trading for the new flesh",
    "longDescription": "High-frequency cryptocurrency trading terminal with cyberpunk aesthetics. Real-time market data, GPU-accelerated charts, and military-grade encryption. Jack in and burn the markets.",
    "resources": {
      "externalBin": []
    },
    "macOS": {
      "minimumSystemVersion": "10.15",
      "frameworks": [],
      "exceptionDomain": null,
      "signingIdentity": null,
      "entitlements": null
    },
    "windows": {
      "certificateThumbprint": null,
      "digestAlgorithm": "sha256",
      "timestampUrl": "http://timestamp.digicert.com",
      "tsp": false,
      "webviewInstallMode": {
        "type": "downloadBootstrapper"
      }
    },
    "linux": {
      "appimage": {
        "bundleMediaFramework": true
      },
      "deb": {
        "section": "finance",
        "priority": "optional",
        "depends": []
      }
    }
  },
  "app": {
    "security": {
      "csp": {
        "default-src": "'self' customprotocol: asset:",
        "script-src": "'self' 'unsafe-eval' 'wasm-unsafe-eval'",
        "style-src": "'self' 'unsafe-inline'",
        "img-src": "'self' asset: https://api.nexlify.com data: blob:",
        "font-src": "'self'",
        "connect-src": "'self' wss://stream.nexlify.com https://api.nexlify.com https://api.coinbase.com https://api.binance.com",
        "media-src": "'self'",
        "object-src": "'none'",
        "base-uri": "'self'",
        "form-action": "'self'",
        "frame-ancestors": "'none'",
        "worker-src": "'self' blob:"
      },
      "dangerousDisableAssetCspModification": false,
      "freezePrototype": true,
      "pattern": {
        "use": "isolation"
      }
    },
    "windows": [
      {
        "title": "NEXLIFY // NEURAL TERMINAL",
        "label": "main",
        "url": "/",
        "width": 1600,
        "height": 1000,
        "minWidth": 1200,
        "minHeight": 800,
        "resizable": true,
        "fullscreen": false,
        "alwaysOnTop": false,
        "skipTaskbar": false,
        "decorations": true,
        "transparent": false,
        "center": true,
        "focus": true,
        "acceptFirstMouse": false,
        "hiddenTitle": false,
        "tabbingIdentifier": null,
        "additionalBrowserArgs": null,
        "shadow": true,
        "dragDropEnabled": true,
        "zoomHotkeysEnabled": false,
        "theme": "dark",
        "titleBarStyle": "overlay",
        "windowEffects": {
          "effects": ["mica"],
          "state": "active"
        }
      }
    ],
    "trayIcon": {
      "iconPath": "icons/tray-icon.png",
      "iconAsTemplate": true,
      "menuOnLeftClick": false,
      "title": "NEXLIFY",
      "tooltip": "Neural Trading Active"
    },
    "macOSPrivateApi": false
  },
  "plugins": {
    "shell": {
      "open": false,
      "scope": []
    },
    "http": {
      "scope": [
        "https://api.nexlify.com/*",
        "https://api.coinbase.com/*",
        "https://api.binance.com/*",
        "https://api.kraken.com/*"
      ]
    },
    "websocket": {
      "connect": [
        "wss://stream.nexlify.com",
        "wss://ws-feed.exchange.coinbase.com",
        "wss://stream.binance.com:9443/*"
      ]
    },
    "fs": {
      "scope": {
        "allow": ["$APPDATA/nexlify/*", "$APPCONFIG/nexlify/*"],
        "deny": ["$HOME/.ssh/*", "$HOME/.gnupg/*"]
      }
    },
    "process": {
      "exit": true,
      "relaunch": true
    },
    "dialog": {
      "all": true
    },
    "notification": {
      "all": true
    },
    "updater": {
      "endpoints": ["https://releases.nexlify.com/{{target}}/{{arch}}/{{current_version}}"],
      "pubkey": "dW50cnVzdGVkIGNvbW1lbnQ6IG1pbmlzaWduIHB1YmxpYyBrZXk6IEMzNkUzNEJCREFCRTlBRTAKUldRWmNlcnJVL2wzNGJ1WDlLdnNKbFRKMDNWOHBpNmRqVzNWdlVZNEhlRWM5eE1oTWJ0VEhsZz0K"
    },
    "stronghold": {
      "migrationPassword": null
    },
    "window-state": {
      "saveWindowState": true
    }
  }
}
